@import "value.less";
@import "func.less";
@import "base.less";

/************************

     返回顶部

************************/

#back-to-top {
    position: fixed;
    z-index: @z-index-nav-search-bar;
    display: block;
    right: unit(100/@base-px-2-rem, rem);
    //http://sale.jd.com/act/vxSIhCHBKP1.html?qz_gdt=yyiowvy2aaafg63wuciq&utm_campaign=t_232310336_1&utm_term=yyiowvy2aaafg63wuciq&utm_medium=jzt-zhitou&utm_source=jdzt_refer_null#
    //left: 50%;
    //margin-left: 33vw;
    //margin-left: unit(380/@base-px-2-rem, rem);.
    bottom: unit((@nav-bar-height + 100)/@base-px-2-rem, rem);
    width: unit(@go-to-top-icon-size/@base-px-2-rem, rem);
    height: unit(@go-to-top-icon-size/@base-px-2-rem, rem);
    //fix the ipad high resolution?
    @media screen and (min-width: 768px) {
        right: unit(270/@base-px-2-rem, rem);
    }
}


/************************

     搜索栏

************************/

.search-bar {
    // position: fixed;
    // z-index: @z-index-nav-search-bar;
    // width: 100%;
    // max-width: @max-width;
    // height: unit(@search-bar-height/@base-px-2-rem, rem);
    // background-color: #fff;
    .make-fixed-bar(@search-bar-height);
    top: 0;
    padding-top: unit(@search-bar-blank/@base-px-2-rem, rem);
    padding-bottom: unit(@search-bar-blank/@base-px-2-rem, rem);
    border-bottom: 1px solid @bar-border-color;
    form {
        display: inline-block;
        width: 72%;
    }
    .form-group {
        display: inline-block;
        vertical-align: initial;
        width: 100%;
        border-radius: 5px;
        background-color: @search-area-color;
        //padding-top should be equal to span.vertical-line height
        padding-top: unit(@search-area-blank/@base-px-2-rem, rem);
        //padding-bottom: unit(@search-area-blank/@base-px-2-rem, rem);
        height: unit(@search-area-height/@base-px-2-rem, rem);
        span.vertical-line {
            border-left: 1px solid #555;
            //same to input height minus 15 maybe
            height: unit( (@search-input-height - 22) /@base-px-2-rem, rem);
            //margin-top should be equal to form-group padding-top
            margin-top: unit(10/@base-px-2-rem, rem);
        }
        input {
            background-color: @search-area-color;
            padding: 0;
            float: left;
            margin-left: unit(20/@base-px-2-rem, rem);
            height: unit(@search-input-height/@base-px-2-rem, rem);
            line-height: unit(@search-input-height/@base-px-2-rem, rem);
            width: 75%;
            letter-spacing: 1px;
            font-size: 14px;
            @media screen and (min-width: 768px) {
                font-size: 20px;
                letter-spacing: 2px;
            }
        }
    }
}

.search-bar-menu {
    .make-fixed-bar(@search-bar-height);
    width: unit(250/@base-px-2-rem, rem);
    height: 100%;
    //height: unit(335/@base-px-2-rem, rem);
    //background-color: #fff;
    position: absolute;
    z-index: 11;
    top: unit((@search-bar-height + 1) /@base-px-2-rem, rem);
    left: unit(50/@base-px-2-rem, rem);
    ul {
        border: 1px solid @text-gray;
        border-radius: 8px;
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
        border-bottom-left-radius: 8px;
        border-bottom-right-radius: 8px;
        background-color: #fff;
    }
    li {
        text-align: center;
        border-bottom: 1px solid @text-gray;
        &:last-child {
            border-bottom: none;
        }
        a {
            font-size: 14px;
            padding: unit(30/@base-px-2-rem, rem) 0;
        }
    }
}


/************************

     顶部导航栏

************************/

.nav-bar {
    position: fixed;
    //z-index: @z-index-nav-search-bar - 1;
    width: 100%;
    max-width: @max-width;
    height: unit(@nav-bar-height/@base-px-2-rem, rem);
    background-color: #fff;
    .make-fixed-bar(@nav-bar-height);
    //修正遮盖弹出菜单
    z-index: 10;
    //search bar in his head
    top: unit(@search-bar-height/@base-px-2-rem, rem);
    //nav bar ,no padding in this block.
    //padding-top: unit(@nav-bar-blank/@base-px-2-rem, rem);
    text-align: center;
    //text-align: justify;
    &.on-base-title {
        top: unit(@base-nav-bar-height/@base-px-2-rem, rem);
        ul {
            display: flex;
            flex-flow: row nowrap;
            justify-content: space-around;
            align-items: center;
        }
        li {
            //width: 20%;
        }
    }
    ul {
        //display: block;
        display: flex;
        flex-flow: row nowrap;
        justify-content: space-around;
        align-items: center;
        padding: 0 unit(@base-pd-tb/@base-px-2-rem, rem);
        li {
            //display: inline-block;
            &.active {
                a {
                    color: red;
                    border-bottom: 1px solid #333;
                }
            }
            a {
                display: block;
                //equal to nav-bar height
                //line-height: unit(@nav-bar-height  /@base-px-2-rem, rem);
                //height: unit(@nav-bar-height  /@base-px-2-rem, rem);
                .make-line-and-height-p(@nav-bar-height);
                padding: 0 unit(@nav-bar-link-padding/@base-px-2-rem, rem);
                font-size: 14px;
                color: @nav-bar-link-color;
                @media screen and (min-width: 768px) {
                    font-size: 20px;
                    letter-spacing: 2px;
                }
            }
        }
    }
}


/************************

      底部导航栏

************************/

.nav-buttom-bar {
    // position: fixed;
    // width: 100%;
    // max-width: @max-width;
    // height: unit(@nav-buttom-bar-height/@base-px-2-rem, rem);
    // z-index: @z-index-nav-search-bar;
    // background-color: #fff;
    .make-fixed-bar(@nav-buttom-bar-height);
    bottom: 0;
    padding-top: unit(@search-bar-blank/@base-px-2-rem, rem);
    padding-bottom: unit(@search-bar-blank/@base-px-2-rem, rem);
    border-top: 1px solid rgba(0, 0, 0, 0.2);
    text-align: center;
    ul {
        //display: block;
        display: flex;
        flex-flow: row nowrap;
        justify-content: space-around;
        align-items: center;
        padding: 0 unit(@base-pd-tb/@base-px-2-rem, rem);
        li {
            //display: inline-block;
            text-align: center;
            width: 25%;
            a {
                display: block;
                &.active {
                    color: red;
                }
            }
            p {
                //test value line-height
                line-height: unit(25/@base-px-2-rem, rem);
                font-size: 12px;
                @media screen and (min-width: 768px) {
                    font-size: 20px;
                    letter-spacing: 2px;
                }
            }
        }
    }
    &.red-btn {
        background-color: @order-btn-color;
        border-top: 0;
        > a {
            display: block;
            color: #fff;
            font-size: 16px;
            letter-spacing: 1px;
            //height: unit( @nav-buttom-bar-height/@base-px-2-rem, rem);
            line-height: unit(( @nav-buttom-bar-height - 30)/@base-px-2-rem, rem);
        }
    }
    &.no-padding {
        padding: 0;
    }
    //订单详情下 的操作按钮
    .nav-btn-wrapper {
        display: flex;
        flex-flow: row nowrap;
        justify-content: flex-end;
        align-items: center;
        height: 100%;
        > a {
            height: 100%;
            //height: unit( @nav-buttom-bar-height/@base-px-2-rem, rem);
            margin-left: unit(50/@base-px-2-rem, rem);
            background-color: @red-btn-color;
            width: 25%;
            padding: unit(40/@base-px-2-rem, rem) unit(40/@base-px-2-rem, rem);
            border-radius: 5px;
            color: #fff;
            font-size: 15px;
        }
    }
}

.order-details-b-bar {
    height: unit((@nav-buttom-bar-height - 35)/@base-px-2-rem, rem);
    border: 0;
    background-color: @border-color-gray-very-light;
}


/************************

通用标题栏 顶部

************************/

.base-nav-bar {
    .make-fixed-bar(@base-nav-bar-height);
    top: 0;
    border-bottom: 1px solid @bar-border-color;
    // padding-top: unit(@search-bar-blank*2/@base-px-2-rem, rem);
    // padding-bottom: unit(@search-bar-blank*2/@base-px-2-rem, rem);
    // text-align: center;
    display: flex;
    flex-flow: row nowrap;
    justify-content: space-between;
    align-items: center;
    >p {
        //float: left;
        //width: 86%;
        font-size: 16px;
        font-weight: 600;
        line-height: unit( (@search-bar-height - @nav-bar-blank*2) /@base-px-2-rem, rem);
        .mod-retina-display(20px, 0px);
        //margin-right: unit( 10/@base-px-2-rem, rem);
        //margin-left: -(unit(@search-bar-icon-size /@base-px-2-rem, rem));
    }
    a {
        padding-right: unit( 35/@base-px-2-rem, rem);
        font-size: 16px;
        font-weight: 600;
        line-height: unit( (@search-bar-height - @nav-bar-blank*2) /@base-px-2-rem, rem);
        .mod-retina-display(20px, 0px);
    }
}


/************************

      商品详情页底部导航栏

************************/

.product-nav-bar {
    // position: fixed;
    // z-index: @z-index-nav-search-bar;
    // width: 100%;
    // max-width: @max-width;
    // height: unit(@product-nav-bar-height/@base-px-2-rem, rem);
    // background-color: #fff;
    .make-fixed-bar(@product-nav-bar-height);
    bottom: 0;
    border-top: 1px solid @bar-border-color;
    //text-align: center;
    ul {
        display: block;
        //三个icon
        li {
            float: left;
            font-size: 0;
            width: 15%;
            //position: relative;
            a {
                text-align: center;
                display: block;
                &.active {
                    color: red;
                }
            }
            //icon 下的文字
            p {
                //test value line-height
                line-height: unit(45/@base-px-2-rem, rem);
                font-size: 12px;
                color: @product-nav-text-color;
                .mod-retina-display(20px, 0px);
            }
            //加入购物车
            &:last-child {
                float: right;
                width: 55%;
                background-color: @text-red;
                p {
                    line-height: unit(@product-nav-bar-height/@base-px-2-rem, rem);
                    font-size: 18px;
                    color: #fff;
                    .mod-retina-display(20px, 2px);
                }
            }
            &:nth-child(2) {
                position: relative;
                &::before {
                    //购物车商品数量
                    //display: block;
                    //http://www.jb51.net/article/81984.htm
                    //dataset
                    content: attr(data-shop-count);
                    position: absolute;
                    z-index: @z-index-nav-search-bar + 1;
                    right: 0;
                    top: 5px;
                    font-size: 13px;
                    color: @text-red;
                    height: 13px;
                    width: 13px;
                }
            }
        }
    }
}

//商品详情页显示购物车数量
li[data-shop-count="0"] {
    &::before {
        display: none !important;
    }
}


/****************

购物车结算栏

****************/

.shopcar-nav-bar {
    .make-fixed-bar(@nav-buttom-bar-height);
    //位于base nav上
    bottom: unit(@nav-buttom-bar-height/@base-px-2-rem, rem);
    border-top: 1px solid @bar-border-color;
    padding-left: unit(@shopcar-left-right-blank/@base-px-2-rem, rem);
    display: flex;
    flex-flow: row nowrap;
    justify-content: space-between;
    align-items: center;
    .shopcar-check-icon {
        margin-right: 0;
    }
    .shopcar-check-icon + span {
        text-align: left;
        width: 20%;
        color: #333;
        font-size: 18px;
        font-weight: 500;
    }
    .order-price {
        width: 32%;
        //height: 100%;
        text-align: right;
        //padding-right: unit( (@shopcar-left-right-blank - 20)/@base-px-2-rem, rem);
        p {
            font-size: 15px;
            &:first-child {
                color: @text-red;
            }
            &:nth-child(2) {
                color: @text-gray;
                font-size: 13px;
            }
        }
    }
    a.order-btn {
        width: 33.33%;
        display: block;
        //通用
        .base-nav-buttom-bar-big-btn();
    }
}


/****************

底部导航满高按钮

****************/

.base-nav-buttom-bar-big-btn() {
    background-color: @order-btn-color;
    height: 100%;
    text-align: center;
    line-height: unit(@nav-buttom-bar-height/@base-px-2-rem, rem);
    font-size: 16px;
    font-weight: 500;
    letter-spacing: 2px;
    color: #fff;
}


/****************

购物车下单-订单信息

****************/

.order-comfirm-bar {
    display: flex;
    flex-flow: row nowrap;
    justify-content: space-around;
    align-items: center;
    height: 100%;
    width: 100%;
    font-size: 15px;
    .order-comfirm-price, .order-comfirm-btn {
        height: 100%;
        align-self: center;
    }
    .order-comfirm-price {
        width: 60%;
        height: 100%;
        text-align: center;
        line-height: unit(@nav-buttom-bar-height/@base-px-2-rem, rem);
        padding-right: unit(200/@base-px-2-rem, rem);
        color: @text-red;
    }
    .order-comfirm-btn {
        width: 40%;
        height: 100%;
        text-align: center;
        line-height: unit(@nav-buttom-bar-height/@base-px-2-rem, rem);
        .base-nav-buttom-bar-big-btn();
    }
}


/****************

就手收到订单

****************/

#get-order {
    .make-fixed-bar(@nav-buttom-bar-height);
    padding: unit( 10/@base-px-2-rem, rem);
    top: unit((@search-bar-height+50)/@base-px-2-rem, rem);
    left: unit( 80/@base-px-2-rem, rem);
    width: auto;
    //width: unit( 850/@base-px-2-rem, rem);
    height: unit( 120/@base-px-2-rem, rem);
    background-color: rgba(0, 0, 0, 0.2);
    font-size: 12px;
    .make-border-radius(20px);
    display: flex;
    flex-flow: row nowrap;
    justify-content: flex-start;
    align-items: center;
    //display: none;
    opacity: 0;
    .get-order-imgBox {
        width: unit( 100/@base-px-2-rem, rem);
        height: unit( 100/@base-px-2-rem, rem);
        img {
            width: 100%;
            height: 100%;
            .make-border-radius(20px);
        }
    }
    p {
        color: #fff;
        padding: 0 unit( 20/@base-px-2-rem, rem);
    }
    //修复小屏幕显示
    @media screen and (max-width: 320px) {
        //width: unit( 980/@base-px-2-rem, rem);
        width: auto;
    }
}